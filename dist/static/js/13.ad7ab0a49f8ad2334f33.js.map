{"version":3,"sources":["webpack:///./src/pages/Home/Supplement.vue?0d44","webpack:///./src/pages/Home/Supplement.vue?de17","webpack:///./src/pages/Home/Supplement.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","_v","type","placeholder","rows","autosize","model","value","list","callback","$$v","$set","expression","src","isSee","img","alt","on","click","$event","add","_e","staticRenderFns","__webpack_require__","Component","Object","defineProperty","__webpack_exports__","$","__WEBPACK_IMPORTED_MODULE_0__components_PhotoSpeech__","__WEBPACK_IMPORTED_MODULE_0__components_PhotoSpeech___default","n","data","require","isOpen","isVoice","message","suppleRemark","suppleAudioUrl","supplePath","repairId","isFocus","components","Photo-Speech","PhotoSpeech","computed","imgFile","$store","state","created","document","title","$route","query","focus","methods","_this","$toast","loading","mask","duration","dispatch","then","res","catch","err","$dialog","alert","_this2","ready","win_h","window","height","addEventListener"],"mappings":"sCAAAA,EAAAC,SAAgBC,OAAA,WAAmB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAC1E,OAAAE,EAAA,OACAE,OACAC,GAAA,gBAEGH,EAAA,OACHI,YAAA,oBACGJ,EAAA,OACHI,YAAA,qBACGJ,EAAA,QAAAJ,EAAAS,GAAA,QAAAL,EAAA,aACHI,YAAA,QACAF,OACAI,KAAA,WACAC,YAAA,WACAC,KAAA,IACAC,SAAA,IAEAC,OACAC,MAAAf,EAAAgB,KAAA,aACAC,SAAA,SAAAC,GACAlB,EAAAmB,KAAAnB,EAAAgB,KAAA,eAAAE,IAEAE,WAAA,wBAEG,GAAApB,EAAAS,GAAA,KAAAL,EAAA,gBAAAJ,EAAAS,GAAA,KAAAL,EAAA,OACHI,YAAA,0BACGJ,EAAA,QAAAJ,EAAAS,GAAA,WAAAL,EAAA,OACHI,YAAA,SACAF,OACAe,IAAA,GAAArB,EAAAgB,KAAAM,MAAAtB,EAAAuB,IAAA,GAAAvB,EAAAuB,IAAA,GACAC,IAAA,IAEAC,IACAC,MAAA,SAAAC,GACA,GAAA3B,EAAAgB,KAAAM,MAAAtB,EAAAgB,KAAAM,MAAA,EAAAtB,EAAAgB,KAAAM,MAAA,SAGG,GAAAtB,EAAAS,GAAA,KAAAT,EAAA,QAAAI,EAAA,OACHI,YAAA,oBACAiB,IACAC,MAAA1B,EAAA4B,OAEG5B,EAAAS,GAAA,QAAAT,EAAA6B,QACFC,iECzCDC,EAAQ,QAER,IAAAC,EAAgBD,EAAQ,OAARA,CAEdA,EAAQ,QAERA,EAAQ,QAEV,kBAEA,MAGAlC,EAAAC,QAAAkC,EAAAlC,2CCfAmC,OAAAC,eAAAC,EAAA,cAAApB,OAAA,aAAAqB,GAAA,IAAAC,EAAAN,EAAA,QAAAO,EAAAP,EAAAQ,EAAAF,GAkBeF,EAAA,SACXK,KADW,WAEP,OACIjB,KAAKkB,EAAQ,QAA2BA,EAAQ,SAA8BC,QAAO,EAAMC,SAAQ,EAAMC,QAAQ,GACjH5B,MAAO6B,aAAa,GAAIC,eAAe,GAAIC,WAAW,GAAIzB,MAAM,EAAG0B,SAAS,IAC5EC,SAAQ,IAGhBC,YACIC,eAAgBC,KAEpBC,UACIC,QADM,WAEF,OAAOrD,KAAKsD,OAAOC,MAAMF,UAGjCG,QAhBW,WAiBPC,SAASC,MAAQ,KAEjB1D,KAAKe,KAAKgC,SAAW/C,KAAK2D,OAAOC,MAAMtD,GAEvCN,KAAK6D,SAETC,SACInC,IADK,WACA,IAAAoC,EAAA/D,KAC4B,IAA1BA,KAAKe,KAAK6B,cAA4C,IAAtB5C,KAAKe,KAAKgC,UACzC/C,KAAKgE,OAAOC,SACRC,MAAM,EACNvB,QAAS,SACTwB,SAAS,IAEM,IAAhBnE,KAAKqD,QACJrD,KAAKsD,OAAOc,SAAS,iBACpBC,KAAK,SAAAC,GAEFP,EAAKhD,KAAK+B,WAAawB,EAAI3B,QAC3BoB,EAAKT,OAAOc,SAAS,gBAAiBL,EAAKhD,QAE9CwD,MAAM,SAAAC,MAEPxE,KAAKsD,OAAOc,SAAS,gBAAiBpE,KAAKe,OAG/Cf,KAAKyE,QAAQC,OACThB,MAAO,UACPf,QAAS,KACV0B,KAAK,eAKhBR,MA5BK,WA4BE,IAAAc,EAAA3E,KACHmC,EAAEsB,UAAUmB,MAAM,WACd,IAAIC,EAAQ1C,EAAE2C,QAAQC,SACtBD,OAAOE,iBAAiB,SAAU,WAC9B7C,EAAE2C,QAAQC,SAAWF,EAAQF,EAAK3B,SAAU,EAAQ2B,EAAK3B,SAAU","file":"static/js/13.ad7ab0a49f8ad2334f33.js","sourcesContent":["module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"Supplement\"\n    }\n  }, [_c('div', {\n    staticClass: \"Supplement_main\"\n  }, [_c('div', {\n    staticClass: \"Supplement_main_\"\n  }, [_c('span', [_vm._v(\"描述\")]), _c('van-field', {\n    staticClass: \"input\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"简单描述处理结果\",\n      \"rows\": \"1\",\n      \"autosize\": \"\"\n    },\n    model: {\n      value: (_vm.list.suppleRemark),\n      callback: function($$v) {\n        _vm.$set(_vm.list, \"suppleRemark\", $$v)\n      },\n      expression: \"list.suppleRemark\"\n    }\n  })], 1), _vm._v(\" \"), _c('Photo-Speech'), _vm._v(\" \"), _c('div', {\n    staticClass: \"Supplement_main_ last\"\n  }, [_c('span', [_vm._v(\"报修人可见\")]), _c('img', {\n    staticClass: \"isOpen\",\n    attrs: {\n      \"src\": _vm.list.isSee == 0 ? _vm.img[0] : _vm.img[1],\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.list.isSee == 0 ? _vm.list.isSee = 1 : _vm.list.isSee = 0\n      }\n    }\n  })])], 1), _vm._v(\" \"), (_vm.isFocus) ? _c('div', {\n    staticClass: \"Supplement_footer\",\n    on: {\n      \"click\": _vm.add\n    }\n  }, [_vm._v(\"提交\")]) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-642f2dda\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Home/Supplement.vue\n// module id = DUR4\n// module chunks = 13","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-642f2dda\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Supplement.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Supplement.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-642f2dda\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Supplement.vue\"),\n  /* scopeId */\n  \"data-v-642f2dda\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Home/Supplement.vue\n// module id = ZoZC\n// module chunks = 13","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PhotoSpeech from '../../components/_PhotoSpeech'\nexport default {\n    data() {\n        return {\n            img:[require('../../assets/img/no.png'),require('../../assets/img/open.png')],isOpen:false,isVoice:false,message:'',\n            list:{ suppleRemark:'', suppleAudioUrl:'', supplePath:'', isSee:0, repairId:'' },\n            isFocus:true\n        }\n    },\n    components: {\n        'Photo-Speech': PhotoSpeech\n    },\n    computed: {\n        imgFile(){\n            return this.$store.state.imgFile\n        },  \n    },\n    created(){\n        document.title = '补充'\n\n        this.list.repairId = this.$route.query.id\n\n        this.focus()\n    },\n    methods: {\n        add(){\n            if(this.list.suppleRemark != '' && this.list.repairId != ''){\n                this.$toast.loading({\n                    mask: true,\n                    message: '加载中...',\n                    duration:0\n                })\n                if(this.imgFile != ''){\n                    this.$store.dispatch('uploadPicture')\n                    .then(res =>{\n                        // console.log(res)\n                        this.list.supplePath = res.message\n                        this.$store.dispatch('addSupplement', this.list)\n                    })\n                    .catch(err =>{})\n                }else{\n                    this.$store.dispatch('addSupplement', this.list)\n                }\n            }else{\n                this.$dialog.alert({\n                    title: '必填信息为空！',\n                    message: ''\n                }).then(() => {\n                // on close\n                });\n            }\n        },\n        focus(){\n            $(document).ready(()=>{\n                var win_h = $(window).height();//关键代码\n                window.addEventListener('resize', ()=> {\n                    $(window).height() < win_h ? this.isFocus = false : this.isFocus = true\n                });\n            })\n        },\n    },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Home/Supplement.vue"],"sourceRoot":""}