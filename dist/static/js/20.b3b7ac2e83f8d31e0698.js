webpackJsonp([20],{"1uQo":function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"EquipmentAddition"}},[s("div",{staticClass:"EquipmentAddition_main"},[s("div",{staticClass:"EquipmentAddition_main_",on:{click:t.changegetEquFacType}},[s("span",[t._v("类型")]),s("span",{staticClass:"input input_mores"},[t._v(t._s(t.type))]),t._v(" "),s("img",{staticClass:"more",attrs:{src:i("rziK"),alt:""}})]),t._v(" "),s("div",{staticClass:"EquipmentAddition_main_",on:{click:t.changegettallyType}},[s("span",[t._v("点检类型")]),s("span",{staticClass:"input input_more"},[t._v(t._s(t.tallyType))]),t._v(" "),s("img",{staticClass:"more",attrs:{src:i("rziK"),alt:""}})]),t._v(" "),s("div",{staticClass:"EquipmentAddition_main_"},[s("span",[t._v("名称")]),s("van-field",{staticClass:"input",attrs:{type:"textarea",placeholder:"添加名称",rows:"1",autosize:""},model:{value:t.list.equFacName,callback:function(e){t.$set(t.list,"equFacName",e)},expression:"list.equFacName"}})],1),t._v(" "),s("div",{staticClass:"EquipmentAddition_main_"},[s("span",[t._v("描述")]),s("van-field",{staticClass:"input",attrs:{type:"textarea",placeholder:"添加描述",rows:"1",autosize:""},model:{value:t.list.remark,callback:function(e){t.$set(t.list,"remark",e)},expression:"list.remark"}})],1),t._v(" "),s("div",{staticClass:"EquipmentAddition_main_"},[s("span",[t._v("地址")]),s("van-field",{staticClass:"input",attrs:{type:"textarea",placeholder:"添加地址",rows:"1",autosize:""},model:{value:t.list.address,callback:function(e){t.$set(t.list,"address",e)},expression:"list.address"}})],1),t._v(" "),s("div",{staticClass:"EquipmentAddition_main_ last"},[s("span",[t._v("点检")]),t._v(" "),s("div",[s("span",[t._v("是否是点检设备")]),s("img",{staticClass:"isOpen",attrs:{src:t.isOpen?t.img[1]:t.img[0],alt:""},on:{click:t.istallys}})])]),t._v(" "),s("Photo-Speech",{attrs:{voice:!1}})],1),t._v(" "),t.isFocus?s("div",{staticClass:"EquipmentAddition_footer",on:{click:t.addEqufac}},[t._v("保存")]):t._e(),t._v(" "),t.getEquFacType?s("van-actionsheet",{attrs:{actions:t.getEquFacType},on:{select:t.onSelectEquFacType},model:{value:t.ShowgetEquFacType,callback:function(e){t.ShowgetEquFacType=e},expression:"ShowgetEquFacType"}}):t._e(),t._v(" "),t.gettallyType?s("van-actionsheet",{attrs:{actions:t.gettallyType},on:{select:t.onSelecttallyType},model:{value:t.ShowgettallyType,callback:function(e){t.ShowgettallyType=e},expression:"ShowgettallyType"}}):t._e()],1)},staticRenderFns:[]}},Cu2f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var s=i("BO1k"),a=i.n(s),n=i("Cofq"),l=i.n(n);e.default={data:function(){return{img:[i("8vHv"),i("YkNB")],isOpen:!1,isVoice:!1,message:"123",ShowgetEquFacType:!1,ShowgettallyType:!1,type:"",tallyType:"",isFocus:!0,list:{type:"",tallyType:"",equFacName:"",remark:"",address:"",isTally:0,pictures:""}}},components:{"Photo-Speech":l.a},beforeCreate:function(){this.$store.dispatch("getEquFacType")},computed:{getEquFacType:function(){return this.$store.state.getEquFacType},gettallyType:function(){var t=[];if(""==this.$store.state.gettallyType)t.push({name:"暂无",disabled:!0});else{var e=!0,i=!1,s=void 0;try{for(var n,l=a()(this.$store.state.gettallyType);!(e=(n=l.next()).done);e=!0){var c=n.value;t.push({name:c.tally_name,id:c.id})}}catch(t){i=!0,s=t}finally{try{!e&&l.return&&l.return()}finally{if(i)throw s}}}return t},imgFile:function(){return this.$store.state.imgFile}},created:function(){document.title="设备设施添加",this.focus()},methods:{onSelectEquFacType:function(t){this.ShowgetEquFacType=!1,this.type=t.name,this.list.type=t.id,this.$store.dispatch("gettallyType",t.id)},changegetEquFacType:function(){this.ShowgetEquFacType=!0},onSelecttallyType:function(t){this.ShowgettallyType=!1,this.tallyType=t.name,this.list.tallyType=t.id},changegettallyType:function(){this.ShowgettallyType=!0},istallys:function(){this.isOpen=!this.isOpen,this.isOpen?this.list.isTally=1:this.list.isTally=0},addEqufac:function(){var t=this;""!=this.list.type&&""!=this.list.tallyType&&""!=this.list.equFacName?(this.$toast.loading({mask:!0,message:"加载中...",duration:0}),""!=this.imgFile?this.$store.dispatch("uploadPicture").then(function(e){t.list.pictures=e.message,t.$store.dispatch("addEqufac",t.list)}).catch(function(t){}):this.$store.dispatch("addEqufac",this.list)):this.$dialog.alert({title:"必填信息为空！",message:""}).then(function(){})},focus:function(){var e=this;t(document).ready(function(){var i=t(window).height();window.addEventListener("resize",function(){t(window).height()<i?e.isFocus=!1:e.isFocus=!0})})}}}}.call(e,i("7t+N"))},F33n:function(t,e,i){i("ktOx");var s=i("VU/8")(i("Cu2f"),i("1uQo"),"data-v-03a87c7f",null);t.exports=s.exports},ktOx:function(t,e){}});
//# sourceMappingURL=20.b3b7ac2e83f8d31e0698.js.map