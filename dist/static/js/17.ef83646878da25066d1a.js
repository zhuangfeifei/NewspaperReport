webpackJsonp([17],{"3zih":function(t,s,e){e("dq+z");var i=e("VU/8")(e("IVbM"),e("yMQq"),"data-v-a86d2f22",null);t.exports=i.exports},IVbM:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("BO1k"),a=e.n(i),n=e("Cofq"),r=e.n(n);s.default={data:function(){return{img:[e("8vHv"),e("YkNB")],isOpen:!1,isVoice:!1,message:"",type:"",ShowList:!1,problem:!1,problemList:"",list:{equfacId:"",repairSourceId:0,emerStatus:1,categoryId:"",proDel:"",remarks:"",happenAdd:"",audioUrl:"",path:""}}},components:{"Photo-Speech":r.a},beforeCreate:function(){this.$store.dispatch("list"),this.$store.dispatch("getRepairCategoryList")},computed:{lists:function(){var t=[];if(""==this.$store.state.list)t.push({name:"暂无",disabled:!0});else{var s=!0,e=!1,i=void 0;try{for(var n,r=a()(this.$store.state.list);!(s=(n=r.next()).done);s=!0){var o=n.value;t.push({name:o.equfac_name,equfacId:o.id,num:o.num,address:o.address})}}catch(t){e=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(e)throw i}}}return t},getRepairCategoryList:function(){return this.$store.state.getRepairCategoryList},imgFile:function(){return this.$store.state.imgFile},serverID:function(){return this.$store.state.serverId},isFocus:function(){return this.$store.state.isFocus}},created:function(){document.title="设备设施"},methods:{onSelect:function(t){this.ShowList=!1,this.type=t},onProblem:function(t){this.problem=!1,this.problemList=t},Add:function(){var t=this;""!=this.type?(this.list.categoryId=this.problemList.id,this.list.happenAdd=this.type.address,this.list.audioUrl=this.serverID,this.$toast.loading({mask:!0,message:"加载中...",duration:0}),""!=this.imgFile?this.$store.dispatch("uploadPicture").then(function(s){t.list.path=s.message,t.$store.dispatch("reportRepair",t.list)}).catch(function(t){}):this.$store.dispatch("reportRepair",this.list)):this.$dialog.alert({title:"必填信息为空！",message:""}).then(function(){})}}}},"dq+z":function(t,s){},yMQq:function(t,s,e){t.exports={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"Inspection"}},[t._m(0),t._v(" "),i("div",{staticClass:"Inspection_main"},[i("div",{staticClass:"Inspection_main_ last"},[i("span",[t._v("紧急")]),i("img",{staticClass:"isOpen",attrs:{src:1==t.list.emerStatus?t.img[0]:t.img[1],alt:""},on:{click:function(s){1==t.list.emerStatus?t.list.emerStatus=2:t.list.emerStatus=1}}})]),t._v(" "),i("div",{staticClass:"Inspection_main_",on:{click:function(s){t.ShowList=!0}}},[i("span",[t._v("名称")]),i("p",{staticClass:"input input_mores"},[t._v(t._s(t.type.name))]),t._v(" "),i("img",{staticClass:"more",attrs:{src:e("rziK"),alt:""}})]),t._v(" "),i("div",{staticClass:"Inspection_main_"},[i("span",[t._v("编号")]),i("p",{staticClass:"input input_mores input_moress"},[t._v(t._s(t.type.num))])]),t._v(" "),i("div",{staticClass:"Inspection_main_"},[i("span",[t._v("地点")]),i("p",{staticClass:"input input_mores input_moress"},[t._v(t._s(t.type.address))])]),t._v(" "),i("div",{staticClass:"Inspection_main_",on:{click:function(s){t.problem=!0}}},[i("span",[t._v("类别")]),i("p",{staticClass:"input input_mores"},[t._v(t._s(t.problemList.name))]),t._v(" "),i("img",{staticClass:"more",attrs:{src:e("rziK"),alt:""}})]),t._v(" "),i("div",{staticClass:"Inspection_main_"},[i("span",[t._v("描述")]),i("van-field",{staticClass:"input",attrs:{type:"textarea",placeholder:"请对缺陷情况进行适当描述",rows:"1",autosize:""},model:{value:t.list.proDel,callback:function(s){t.$set(t.list,"proDel",s)},expression:"list.proDel"}})],1),t._v(" "),i("div",{staticClass:"Inspection_main_"},[i("span",[t._v("备注")]),i("van-field",{staticClass:"input",attrs:{type:"textarea",placeholder:"添加备注",rows:"1",autosize:""},model:{value:t.list.remarks,callback:function(s){t.$set(t.list,"remarks",s)},expression:"list.remarks"}})],1)]),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"Inspection_main"},[i("Photo-Speech")],1),t._v(" "),t.isFocus?i("div",{staticClass:"Inspection_footer",on:{click:t.Add}},[t._v("确定提交")]):t._e(),t._v(" "),t.lists?i("van-actionsheet",{attrs:{actions:t.lists},on:{select:t.onSelect},model:{value:t.ShowList,callback:function(s){t.ShowList=s},expression:"ShowList"}}):t._e(),t._v(" "),t.getRepairCategoryList?i("van-actionsheet",{attrs:{actions:t.getRepairCategoryList},on:{select:t.onProblem},model:{value:t.problem,callback:function(s){t.problem=s},expression:"problem"}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("nav",{staticClass:"Inspection"},[s("p",[this._v("填写报修缺陷信息")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("nav",{staticClass:"Inspection"},[s("p",[this._v("添加语音或拍照")])])}]}}});
//# sourceMappingURL=17.ef83646878da25066d1a.js.map