webpackJsonp([12],{N7ZQ:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});s("iN++");var e=s("ma2s"),a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"DailyRepair"}},[t._m(0),t._v(" "),e("div",{staticClass:"DailyRepair_main"},[e("div",{staticClass:"DailyRepair_main_ last"},[e("p",[t._v("紧急")]),e("img",{staticClass:"isOpen",attrs:{src:1==t.list.emerStatus?t.img[0]:t.img[1],alt:""},on:{click:function(i){1==t.list.emerStatus?t.list.emerStatus=2:t.list.emerStatus=1}}})]),t._v(" "),e("div",{staticClass:"DailyRepair_main_",on:{click:function(i){t.show=!0}}},[e("span",[t._v("类别")]),e("p",{staticClass:"input inputClass"},[t._v(t._s(t.categoryId))]),e("img",{staticClass:"more",attrs:{src:s("rziK"),alt:""}})]),t._v(" "),e("div",{staticClass:"DailyRepair_main_"},[e("span",[t._v("描述")]),e("van-field",{staticClass:"input",attrs:{type:"textarea",placeholder:"请对缺陷情况进行适当描述",rows:"1",autosize:""},model:{value:t.list.proDel,callback:function(i){t.$set(t.list,"proDel",i)},expression:"list.proDel"}})],1),t._v(" "),e("div",{staticClass:"DailyRepair_main_"},[e("span",[t._v("地点")]),e("van-field",{staticClass:"input",attrs:{type:"textarea",placeholder:"添加地点",rows:"1",autosize:""},model:{value:t.list.happenAdd,callback:function(i){t.$set(t.list,"happenAdd",i)},expression:"list.happenAdd"}})],1),t._v(" "),e("div",{staticClass:"DailyRepair_main_"},[e("p",[t._v("备注")]),e("van-field",{staticClass:"input",attrs:{type:"textarea",placeholder:"添加备注",rows:"1",autosize:""},model:{value:t.list.remarks,callback:function(i){t.$set(t.list,"remarks",i)},expression:"list.remarks"}})],1)]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"DailyRepair_main"},[e("Photo-Speech")],1),t._v(" "),t.isFocus?e("div",{staticClass:"DailyRepair_footer",on:{click:t.Add}},[t._v("确定提交")]):t._e(),t._v(" "),t.getRepairCategoryList?e("van-actionsheet",{attrs:{actions:t.getRepairCategoryList},on:{select:t.onSelect},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("nav",{staticClass:"DailyRepair"},[i("p",[this._v("填写报修缺陷信息")]),this._v(" "),i("div",[this._v("日常报修")])])},function(){var t=this.$createElement,i=this._self._c||t;return i("nav",{staticClass:"DailyRepair"},[i("p",[this._v("添加语音或拍照")])])}]};var r=function(t){s("mSNt")},n=s("VU/8")(e.a,a,!1,r,"data-v-2c34c656",null);i.default=n.exports},"iN++":function(t,i,s){"use strict";(function(t){var i=s("Cofq"),e=s("162o");s.n(e),i.a}).call(i,s("7t+N"))},mSNt:function(t,i){},ma2s:function(t,i,s){"use strict";(function(t){var e=s("Cofq"),a=s("162o");s.n(a);i.a={data:function(){return{img:[s("8vHv"),s("YkNB")],isOpen:!1,isVoice:!1,message:"",show:!1,categoryId:"",list:{equfacId:"",repairSourceId:1,emerStatus:1,categoryId:"",proDel:"",remarks:"",happenAdd:"",audioUrl:"",path:""},isFocus:!0}},components:{"Photo-Speech":e.a},beforeCreate:function(){this.$store.dispatch("getRepairCategoryList")},computed:{getRepairCategoryList:function(){return this.$store.state.getRepairCategoryList},imgFile:function(){return this.$store.state.imgFile},serverID:function(){return this.$store.state.serverId}},created:function(){document.title="日常报修",this.focus()},methods:{onSelect:function(t){this.show=!1,this.categoryId=t.name,this.list.categoryId=t.id},Add:function(){var t=this;""!=this.list.categoryId&&""!=this.list.proDel&&""!=this.list.happenAdd?(this.$toast.loading({mask:!0,message:"加载中...",duration:0}),""!=this.imgFile?this.$store.dispatch("uploadPicture").then(function(i){t.list.path=i.message,t.list.audioUrl=t.serverID,t.$store.dispatch("reportRepair",t.list)}).catch(function(t){}):(this.list.audioUrl=this.serverID,this.$store.dispatch("reportRepair",this.list))):this.$dialog.alert({title:"必填信息为空！",message:""}).then(function(){})},focus:function(){var i=this;t(document).ready(function(){var s=t(window).height();window.addEventListener("resize",function(){t(window).height()<s?i.isFocus=!1:i.isFocus=!0})})}}}}).call(i,s("7t+N"))}});
//# sourceMappingURL=12.357bb901649cbb73a306.js.map