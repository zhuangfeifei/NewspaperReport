{"version":3,"sources":["webpack:///./src/pages/Administration/EquipmentAddition.vue?d6e4","webpack:///./src/pages/Administration/EquipmentAddition.vue","webpack:///./src/pages/Administration/EquipmentAddition.vue?9ee3"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","on","click","changegetEquFacType","_v","_s","type","src","__webpack_require__","alt","changegettallyType","tallyType","placeholder","rows","autosize","model","value","list","callback","$$v","$set","expression","isOpen","img","istallys","voice","addEqufac","_e","actions","getEquFacType","select","onSelectEquFacType","ShowgetEquFacType","gettallyType","onSelecttallyType","ShowgettallyType","staticRenderFns","__webpack_exports__","data","require","isVoice","message","isFocus","equFacName","remark","address","isTally","pictures","components","Photo-Speech","PhotoSpeech","beforeCreate","$store","dispatch","computed","state","array","push","name","disabled","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","next","done","val","tally_name","err","return","imgFile","created","document","title","focus","methods","item","_this","$toast","loading","mask","duration","then","res","catch","$dialog","alert","_this2","$","ready","win_h","window","height","addEventListener","Component"],"mappings":"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","file":"static/js/20.b3b7ac2e83f8d31e0698.js","sourcesContent":["module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"EquipmentAddition\"\n    }\n  }, [_c('div', {\n    staticClass: \"EquipmentAddition_main\"\n  }, [_c('div', {\n    staticClass: \"EquipmentAddition_main_\",\n    on: {\n      \"click\": _vm.changegetEquFacType\n    }\n  }, [_c('span', [_vm._v(\"类型\")]), _c('span', {\n    staticClass: \"input input_mores\"\n  }, [_vm._v(_vm._s(_vm.type))]), _vm._v(\" \"), _c('img', {\n    staticClass: \"more\",\n    attrs: {\n      \"src\": require(\"../../assets/img/more.png\"),\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"EquipmentAddition_main_\",\n    on: {\n      \"click\": _vm.changegettallyType\n    }\n  }, [_c('span', [_vm._v(\"点检类型\")]), _c('span', {\n    staticClass: \"input input_more\"\n  }, [_vm._v(_vm._s(_vm.tallyType))]), _vm._v(\" \"), _c('img', {\n    staticClass: \"more\",\n    attrs: {\n      \"src\": require(\"../../assets/img/more.png\"),\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"EquipmentAddition_main_\"\n  }, [_c('span', [_vm._v(\"名称\")]), _c('van-field', {\n    staticClass: \"input\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"添加名称\",\n      \"rows\": \"1\",\n      \"autosize\": \"\"\n    },\n    model: {\n      value: (_vm.list.equFacName),\n      callback: function($$v) {\n        _vm.$set(_vm.list, \"equFacName\", $$v)\n      },\n      expression: \"list.equFacName\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"EquipmentAddition_main_\"\n  }, [_c('span', [_vm._v(\"描述\")]), _c('van-field', {\n    staticClass: \"input\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"添加描述\",\n      \"rows\": \"1\",\n      \"autosize\": \"\"\n    },\n    model: {\n      value: (_vm.list.remark),\n      callback: function($$v) {\n        _vm.$set(_vm.list, \"remark\", $$v)\n      },\n      expression: \"list.remark\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"EquipmentAddition_main_\"\n  }, [_c('span', [_vm._v(\"地址\")]), _c('van-field', {\n    staticClass: \"input\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"添加地址\",\n      \"rows\": \"1\",\n      \"autosize\": \"\"\n    },\n    model: {\n      value: (_vm.list.address),\n      callback: function($$v) {\n        _vm.$set(_vm.list, \"address\", $$v)\n      },\n      expression: \"list.address\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"EquipmentAddition_main_ last\"\n  }, [_c('span', [_vm._v(\"点检\")]), _vm._v(\" \"), _c('div', [_c('span', [_vm._v(\"是否是点检设备\")]), _c('img', {\n    staticClass: \"isOpen\",\n    attrs: {\n      \"src\": _vm.isOpen ? _vm.img[1] : _vm.img[0],\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm.istallys\n    }\n  })])]), _vm._v(\" \"), _c('Photo-Speech', {\n    attrs: {\n      \"voice\": false\n    }\n  })], 1), _vm._v(\" \"), (_vm.isFocus) ? _c('div', {\n    staticClass: \"EquipmentAddition_footer\",\n    on: {\n      \"click\": _vm.addEqufac\n    }\n  }, [_vm._v(\"保存\")]) : _vm._e(), _vm._v(\" \"), (_vm.getEquFacType) ? _c('van-actionsheet', {\n    attrs: {\n      \"actions\": _vm.getEquFacType\n    },\n    on: {\n      \"select\": _vm.onSelectEquFacType\n    },\n    model: {\n      value: (_vm.ShowgetEquFacType),\n      callback: function($$v) {\n        _vm.ShowgetEquFacType = $$v\n      },\n      expression: \"ShowgetEquFacType\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.gettallyType) ? _c('van-actionsheet', {\n    attrs: {\n      \"actions\": _vm.gettallyType\n    },\n    on: {\n      \"select\": _vm.onSelecttallyType\n    },\n    model: {\n      value: (_vm.ShowgettallyType),\n      callback: function($$v) {\n        _vm.ShowgettallyType = $$v\n      },\n      expression: \"ShowgettallyType\"\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-03a87c7f\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Administration/EquipmentAddition.vue\n// module id = 1uQo\n// module chunks = 20","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PhotoSpeech from '../../components/_PhotoSpeech'\nexport default {\n    data() {\n        return {\n            img:[require('../../assets/img/no.png'),require('../../assets/img/open.png')],isOpen:false,isVoice:false,message:'123',\n            ShowgetEquFacType: false, ShowgettallyType: false, type: '',tallyType: '',isFocus: true,\n            list:{ type: '', tallyType:'', equFacName:'', remark:'', address:'', isTally: 0, pictures:'' }\n        }\n    },\n    components: {\n        'Photo-Speech': PhotoSpeech\n    },\n    beforeCreate(){\n        this.$store.dispatch('getEquFacType')\n    },\n    computed: {\n        getEquFacType(){\n            return this.$store.state.getEquFacType\n        },\n        gettallyType(){\n            let array=[]\n            if(this.$store.state.gettallyType == ''){\n                array.push({ name:'暂无', disabled: true })\n            }else{\n                for(let val of this.$store.state.gettallyType){\n                    array.push({name: val.tally_name, id: val.id})\n                }\n            }\n            return array\n        },\n        imgFile(){\n            return this.$store.state.imgFile\n        },\n    },\n    created(){\n        document.title = '设备设施添加'\n        \n        this.focus()\n    },\n    methods: {\n        onSelectEquFacType(item) {\n            this.ShowgetEquFacType = false\n            this.type = item.name\n            this.list.type = item.id\n            this.$store.dispatch('gettallyType', item.id)\n        },\n        changegetEquFacType(){\n            this.ShowgetEquFacType = true\n        },\n        onSelecttallyType(item) {\n            this.ShowgettallyType = false\n            this.tallyType = item.name\n            this.list.tallyType = item.id\n        },\n        changegettallyType(){\n            this.ShowgettallyType = true\n        },\n        istallys(){\n            this.isOpen = !this.isOpen\n            this.isOpen ? this.list.isTally = 1 : this.list.isTally = 0\n        },\n        addEqufac(){\n            if(this.list.type != '' && this.list.tallyType != '' && this.list.equFacName != ''){\n                this.$toast.loading({\n                    mask: true,\n                    message: '加载中...',\n                    duration:0\n                })\n                if(this.imgFile != ''){\n                    this.$store.dispatch('uploadPicture')\n                    .then(res =>{\n                        // console.log(res)\n                        this.list.pictures = res.message\n                        this.$store.dispatch('addEqufac', this.list)\n                    })\n                    .catch(err =>{})\n                }else{\n                    this.$store.dispatch('addEqufac', this.list)\n                }\n            }else{\n                this.$dialog.alert({\n                    title: '必填信息为空！',\n                    message: ''\n                }).then(() => {\n                // on close\n                })\n            }\n        },\n        focus(){\n            $(document).ready(()=>{\n                var win_h = $(window).height();//关键代码\n                window.addEventListener('resize', ()=> {\n                    $(window).height() < win_h ? this.isFocus = false : this.isFocus = true\n                });\n            })\n        },\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Administration/EquipmentAddition.vue","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-03a87c7f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EquipmentAddition.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EquipmentAddition.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-03a87c7f\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EquipmentAddition.vue\"),\n  /* scopeId */\n  \"data-v-03a87c7f\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Administration/EquipmentAddition.vue\n// module id = F33n\n// module chunks = 20"],"sourceRoot":""}