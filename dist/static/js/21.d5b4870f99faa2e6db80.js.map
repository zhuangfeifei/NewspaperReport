{"version":3,"sources":["webpack:///./src/pages/Administration/Equipment.vue?9ed1","webpack:///./src/pages/Administration/Equipment.vue?a0f5","webpack:///./src/pages/Administration/Equipment.vue"],"names":["__webpack_require__","Component","module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_m","_v","staticClass","src","list","emerStatus","img","alt","on","click","$event","ShowList","_s","type","name","num","address","problem","problemList","placeholder","rows","autosize","model","value","callback","$$v","$set","expression","Add","_e","actions","lists","select","onSelect","getRepairCategoryList","onProblem","staticRenderFns","__webpack_exports__","data","require","isOpen","isVoice","message","equfacId","repairSourceId","categoryId","proDel","remarks","happenAdd","audioUrl","path","components","Photo-Speech","PhotoSpeech","beforeCreate","$store","dispatch","computed","array","state","push","disabled","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","next","done","val","equfac_name","err","return","imgFile","serverID","serverId","isFocus","created","document","title","methods","item","_this","$toast","loading","mask","duration","then","res","catch","$dialog","alert"],"mappings":"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","file":"static/js/21.d5b4870f99faa2e6db80.js","sourcesContent":["\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-22864663\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Equipment.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Equipment.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-22864663\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Equipment.vue\"),\n  /* scopeId */\n  \"data-v-22864663\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Administration/Equipment.vue\n// module id = FUTG\n// module chunks = 21","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"Equipment\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"Equipment_main\"\n  }, [_c('div', {\n    staticClass: \"Equipment_main_ last\"\n  }, [_c('span', [_vm._v(\"紧急\")]), _c('img', {\n    staticClass: \"isOpen\",\n    attrs: {\n      \"src\": _vm.list.emerStatus == 1 ? _vm.img[0] : _vm.img[1],\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.list.emerStatus == 1 ? _vm.list.emerStatus = 2 : _vm.list.emerStatus = 1\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Equipment_main_\",\n    on: {\n      \"click\": function($event) {\n        _vm.ShowList = true\n      }\n    }\n  }, [_c('span', [_vm._v(\"名称\")]), _c('p', {\n    staticClass: \"input input_mores\"\n  }, [_vm._v(_vm._s(_vm.type.name))]), _vm._v(\" \"), _c('img', {\n    staticClass: \"more\",\n    attrs: {\n      \"src\": require(\"../../assets/img/more.png\"),\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Equipment_main_\"\n  }, [_c('span', [_vm._v(\"编号\")]), _c('p', {\n    staticClass: \"input input_mores input_moress\"\n  }, [_vm._v(_vm._s(_vm.type.num))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Equipment_main_\"\n  }, [_c('span', [_vm._v(\"地点\")]), _c('p', {\n    staticClass: \"input input_mores input_moress\"\n  }, [_vm._v(_vm._s(_vm.type.address))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Equipment_main_\",\n    on: {\n      \"click\": function($event) {\n        _vm.problem = true\n      }\n    }\n  }, [_c('span', [_vm._v(\"类别\")]), _c('p', {\n    staticClass: \"input input_mores\"\n  }, [_vm._v(_vm._s(_vm.problemList.name))]), _vm._v(\" \"), _c('img', {\n    staticClass: \"more\",\n    attrs: {\n      \"src\": require(\"../../assets/img/more.png\"),\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Equipment_main_\"\n  }, [_c('span', [_vm._v(\"描述\")]), _c('van-field', {\n    staticClass: \"input\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"请对缺陷情况进行适当描述\",\n      \"rows\": \"1\",\n      \"autosize\": \"\"\n    },\n    model: {\n      value: (_vm.list.proDel),\n      callback: function($$v) {\n        _vm.$set(_vm.list, \"proDel\", $$v)\n      },\n      expression: \"list.proDel\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"Equipment_main_\"\n  }, [_c('span', [_vm._v(\"备注\")]), _c('van-field', {\n    staticClass: \"input\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"placeholder\": \"添加备注\",\n      \"rows\": \"1\",\n      \"autosize\": \"\"\n    },\n    model: {\n      value: (_vm.list.remarks),\n      callback: function($$v) {\n        _vm.$set(_vm.list, \"remarks\", $$v)\n      },\n      expression: \"list.remarks\"\n    }\n  })], 1)]), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('div', {\n    staticClass: \"Equipment_main\"\n  }, [_c('Photo-Speech')], 1), _vm._v(\" \"), (_vm.isFocus) ? _c('div', {\n    staticClass: \"Equipment_footer\",\n    on: {\n      \"click\": _vm.Add\n    }\n  }, [_vm._v(\"确定提交\")]) : _vm._e(), _vm._v(\" \"), (_vm.lists) ? _c('van-actionsheet', {\n    attrs: {\n      \"actions\": _vm.lists\n    },\n    on: {\n      \"select\": _vm.onSelect\n    },\n    model: {\n      value: (_vm.ShowList),\n      callback: function($$v) {\n        _vm.ShowList = $$v\n      },\n      expression: \"ShowList\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.getRepairCategoryList) ? _c('van-actionsheet', {\n    attrs: {\n      \"actions\": _vm.getRepairCategoryList\n    },\n    on: {\n      \"select\": _vm.onProblem\n    },\n    model: {\n      value: (_vm.problem),\n      callback: function($$v) {\n        _vm.problem = $$v\n      },\n      expression: \"problem\"\n    }\n  }) : _vm._e()], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('nav', {\n    staticClass: \"Equipment\"\n  }, [_c('p', [_vm._v(\"填写报修缺陷信息\")]), _vm._v(\" \"), _c('div', [_vm._v(\"设备设施\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('nav', {\n    staticClass: \"Equipment\"\n  }, [_c('p', [_vm._v(\"添加语音或拍照\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-22864663\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Administration/Equipment.vue\n// module id = oPWD\n// module chunks = 21","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PhotoSpeech from '../../components/_PhotoSpeech'\nexport default {\n    data() {\n        return {\n            img:[require('../../assets/img/no.png'),require('../../assets/img/open.png')],isOpen:false,isVoice:false,message:'',\n            type:'', ShowList: false, problem: false, problemList:'',\n            list:{ equfacId:'', repairSourceId: 2, emerStatus: 1, categoryId:'', proDel:'', remarks:'', happenAdd:'', audioUrl:'', path:'' }\n        }\n    },\n    components: {\n        'Photo-Speech': PhotoSpeech\n    },\n    beforeCreate(){\n        this.$store.dispatch('list')\n        this.$store.dispatch('getRepairCategoryList')\n    },\n    computed: {\n        lists(){\n            let array = []\n            if(this.$store.state.list == ''){\n                array.push({ name:'暂无', disabled: true })\n            }else{\n                for(let val of this.$store.state.list){\n                    array.push({ name: val.equfac_name, equfacId: val.id, num: val.num, address: val.address })\n                }\n            }\n            return array\n        },\n        getRepairCategoryList(){\n            return this.$store.state.getRepairCategoryList\n        },\n        imgFile(){\n            return this.$store.state.imgFile\n        },\n        serverID(){\n            return this.$store.state.serverId\n        },\n        isFocus(){\n            return this.$store.state.isFocus\n        },\n    },\n    created(){\n        document.title = '设备设施'\n        \n        // this.focus()\n    },\n    methods: {\n        onSelect(item) {\n            this.ShowList = false\n            this.type = item\n        },\n        onProblem(item) {\n            this.problem = false\n            this.problemList = item\n        },\n        Add(){\n            if(this.type != ''){\n                this.list.equfacId = this.type.equfacId\n                this.list.categoryId = this.problemList.id\n                this.list.happenAdd = this.type.address\n                this.list.audioUrl = this.serverID\n                this.$toast.loading({\n                    mask: true,\n                    message: '加载中...',\n                    duration:0\n                })\n                if(this.imgFile != ''){\n                    this.$store.dispatch('uploadPicture')\n                    .then(res =>{\n                        // console.log(res)\n                        this.list.path = res.message\n                        this.$store.dispatch('reportRepair', this.list)\n                    })\n                    .catch(err =>{})\n                }else{\n                    this.$store.dispatch('reportRepair', this.list)\n                }\n            }else{\n                this.$dialog.alert({\n                    title: '必填信息为空！',\n                    message: ''\n                }).then(() => {\n                // on close\n                });\n            }\n        },\n    },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Administration/Equipment.vue"],"sourceRoot":""}